<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scratch With Love</title>

<link href="https://fonts.googleapis.com/css2?family=Yesteryear&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:black;
  color:white;
  text-align:center;
  font-family:Arial,sans-serif;
  overflow-x:hidden;
}

/* â¤ï¸ floating hearts */
.heart{
  position:fixed;
  top:-10%;
  color:red;
  opacity:.7;
  animation:fall linear infinite;
}
@keyframes fall{
  to{transform:translateY(120vh)}
}

/* scratch cards */
.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  padding:20px;
  max-width:360px;
  margin:auto;
}
.card{
  background:#999;
  height:110px;
  border-radius:15px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-family:'Yesteryear',cursive;
  font-size:20px;
}

/* golden ticket */
#ticket{
  display:none;
  background:linear-gradient(45deg,gold,#fff7b0);
  color:black;
  margin:20px;
  padding:20px;
  border-radius:20px;
}

/* final section */
#final{
  display:none;
  padding:20px;
}
#final img{
  width:100%;
  border-radius:15px;
}
.caption{
  margin-top:10px;
  font-family:'Yesteryear',cursive;
  font-size:22px;
  color:#ff4d4d;
}
.end{
  margin-top:25px;
  font-family:'Yesteryear',cursive;
  font-size:24px;
  color:#ff4d4d;
}
</style>
</head>

<body>

<h2 style="color:#ff4d4d;font-family:Yesteryear">Scratch with Love â¤ï¸</h2>

<!-- â¤ï¸ hearts -->
<script>
for(let i=0;i<25;i++){
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(12+Math.random()*18)+"px";
  h.style.animationDuration=(6+Math.random()*6)+"s";
  document.body.appendChild(h);
}
</script>

<!-- ğŸµ SONG + SOUNDS -->
<audio id="song" src="song3.mp3" loop></audio>
<audio id="scratchSound" src="scratch.mp3"></audio>
<audio id="dingSound" src="ding.mp3"></audio>

<div class="grid" id="grid"></div>

<div id="ticket">
  <h1>ğŸŸï¸ Golden Ticket</h1>
  <p>Endless Love ğŸ’–</p>
  <button onclick="showFinal()">USE ME</button>
</div>

<div id="final">
  <img id="img" src="img1.jpg">
  <div class="caption" id="caption"></div>

  <div class="end">
    Some beautiful words written with love ğŸ’•<br>
    by kannnukuniyal ğŸ’œ
  </div>
</div>

<script>
/* ğŸµ RESUME SONG (SAFE WAY) */
const song=document.getElementById("song");
song.volume=0.35;

const savedTime=localStorage.getItem("songTime");
if(savedTime){
  song.currentTime=parseFloat(savedTime);
}

/* start song on FIRST SCRATCH (browser rule safe) */
let songStarted=false;

/* scratch cards */
const messages=[
 "Heartbeat â¤ï¸","Forever ğŸ’‘","My Person ğŸ’–","Always ğŸ’","Promises âœ¨",
 "My Calm ğŸŒ™","Endless â™¾ï¸","Love ğŸ’•","Still You â¤ï¸","Final ğŸ’›"
];

const grid=document.getElementById("grid");
let count=0;

messages.forEach(text=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerText="Scratch Me ğŸ’Œ";

  c.onclick=()=>{
    if(c.classList.contains("done")) return;
    c.classList.add("done");

    /* start song here */
    if(!songStarted){
      song.play().catch(()=>{});
      songStarted=true;
    }

    scratchSound.play();
    song.volume=0.15;

    c.innerText=text;
    c.style.background="#444";
    count++;

    if(count===10){
      dingSound.play();
      song.volume=0.35;
      document.getElementById("ticket").style.display="block";
    }
  };
  grid.appendChild(c);
});

/* images + captions */
const images=[
 {src:"img1.jpg",cap:"With you, love feels calm â¤ï¸"},
 {src:"img2.jpg",cap:"Forever starts with us ğŸ’‘"},
 {src:"img3.jpg",cap:"Red hearts, real love â¤ï¸"},
 {src:"img4.jpg",cap:"Still choosing you âœ¨"},
 {src:"img5.jpg",cap:"Endless love â™¾ï¸"}
];
let i=0;

function showFinal(){
  document.getElementById("grid").style.display="none";
  document.getElementById("ticket").style.display="none";
  document.getElementById("final").style.display="block";

  const img=document.getElementById("img");
  const cap=document.getElementById("caption");
  cap.innerText=images[0].cap;

  setInterval(()=>{
    i=(i+1)%images.length;
    img.src=images[i].src;
    cap.innerText=images[i].cap;
  },3000);
}
</script>

</body>
</html>

